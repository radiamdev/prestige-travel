---
import { Image } from 'astro:assets'
import maki from '../../../assets/images/home/maki_travel.webp'
import Icon1 from '../../../assets/icons/tout-inclus.svg'
import Icon2 from '../../../assets/icons/half.svg'
import Icon3 from '../../../assets/icons/equipe.svg'
import Icon4 from '../../../assets/icons/caravane.svg'
import Icon5 from '../../../assets/icons/transfert.svg'
import reservationIcon from '../../../assets/icons/reservation.svg'
import BookingButton from '../../common/BookingButton'

interface Props {
    lang: string
    t: (key: string) => string
}

const { t, lang } = Astro.props as Props

const travelPackages = [
    {
        icon: Icon1,
        title: t('homePage.typesOfTravelSection.travelPackagesList.title1'),
        details: [
            t('homePage.typesOfTravelSection.travelPackagesList.detail1'),
        ],
    },
    {
        icon: Icon2,
        title: t('homePage.typesOfTravelSection.travelPackagesList.title2'),
        details: [
            t('homePage.typesOfTravelSection.travelPackagesList.detail2'),
        ],
    },
    {
        icon: Icon3,
        title: t('homePage.typesOfTravelSection.travelPackagesList.title3'),
        details: [
            t('homePage.typesOfTravelSection.travelPackagesList.detail3'),
            t('homePage.typesOfTravelSection.travelPackagesList.detail4'),
        ],
    },
    {
        icon: Icon4,
        title: t('homePage.typesOfTravelSection.travelPackagesList.title4'),
        details: [
            t('homePage.typesOfTravelSection.travelPackagesList.detail5'),
            t('homePage.typesOfTravelSection.travelPackagesList.detail6'),
        ],
    },
    {
        icon: Icon5,
        title: t('homePage.typesOfTravelSection.travelPackagesList.title5'),
        details: [
            t('homePage.typesOfTravelSection.travelPackagesList.detail7'),
            t('homePage.typesOfTravelSection.travelPackagesList.detail8'),
        ],
    },
]
---

<section
    id=""
    class="relative bg-primary lg:px-24 px-6 lg:py-16 py-12 flex lg:flex-row flex-col items-center lg:gap-0 gap-8 overflow-hidden"
>
    <!-- Image de fond avec effet blur et opacity -->
    <div class="absolute inset-0 z-0">
        <Image
            src={maki}
            alt="Background image"
            class="w-full h-full object-cover opacity-20 blur-sm"
            fetchpriority="high"
        />
        <!-- Overlay pour renforcer le contraste -->
        <div class="absolute inset-0 bg-primary/60"></div>
    </div>

    <!-- Image principale à gauche -->
    <div class="relative z-10 lg:w-1/2 w-full flex items-center justify-center">
        <div class="relative">
            <!-- Effet de bordure décorative -->
            <div
                class="absolute -left-4 top-1/2 transform -translate-y-1/2 flex flex-col gap-2"
            >
                <div class="w-2 h-2 bg-white rounded-full opacity-60"></div>
                <div class="w-2 h-2 bg-white rounded-full opacity-60"></div>
                <div class="w-2 h-2 bg-white rounded-full opacity-60"></div>
                <div class="w-2 h-2 bg-white rounded-full opacity-40"></div>
                <div class="w-2 h-2 bg-white rounded-full opacity-40"></div>
                <div class="w-2 h-2 bg-white rounded-full opacity-20"></div>
            </div>

            <Image
                src={maki}
                alt="Nature & Wildlife Tours"
                class="h-auto w-sm rounded-lg shadow-2xl relative z-10"
                fetchpriority="high"
            />
        </div>
    </div>

    <!-- Contenu à droite -->
    <div class="relative z-10 lg:w-1/2 w-full space-y-4">
        <p class="text-white font-bold lg:text-start text-center opacity-90">
            {t('homePage.typesOfTravelSection.subtitle')}
        </p>
        <h1
            class="text-pink-secondary text-5xl font-bold leading-tight lg:text-start text-center drop-shadow-2xl whitespace-pre-line"
        >
            {t('homePage.typesOfTravelSection.title')}
        </h1>

        <div
            class="space-y-6 bg-black/20 rounded-2xl p-6 border border-white/20 shadow-2xl"
        >
            {
                travelPackages.map(({ icon: Icon, title, details }) => (
                    <div
                        class="flex items-start gap-4 p-4 rounded-lg bg-black/30 border border-white/10 hover:bg-black/40 transition-all duration-300"
                        role="group"
                    >
                        <div class="flex-shrink-0 p-2 bg-white/20 rounded-lg">
                            <Icon width={24} height={24} />
                        </div>
                        <div class="text-white space-y-2">
                            <p class="font-bold text-lg drop-shadow-md">
                                {title}
                            </p>
                            {details.map((line) => (
                                <p class="text-sm leading-relaxed drop-shadow-sm">
                                    {line}
                                </p>
                            ))}
                        </div>
                    </div>
                ))
            }
        </div>

        <!-- Booking button -->
        <div class="flex lg:justify-start justify-center">
            <BookingButton
                label={t('homePage.typesOfTravelSection.bookingButton')}
                icon={reservationIcon.src}
                iconAlt="Reservation icon"
                className="mt-8 shadow-2xl hover:shadow-pink-secondary/20 transition-all duration-300"
                href={`/${lang}/car-rental#booknow`}
            />
        </div>
    </div>
</section>
