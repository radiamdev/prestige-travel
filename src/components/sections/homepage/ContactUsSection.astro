---
import { Image } from 'astro:assets'
import backgroundImage from '../../../assets/images/home/contact_bg.webp'
import makiContact from '../../../assets/images/home/maki_contact.webp'
import ContactUsForm from '../../forms/ContactUsForm'

interface Props {
    t: (key: string) => string
}

const { t } = Astro.props as Props

import { getLangFromUrl } from '../../../i18n'

const lang = getLangFromUrl(Astro.url)
---

<section
    id="contact"
    class="relative bg-primary lg:px-24 px-6 lg:pt-16 lg:pb-28 py-12 overflow-hidden flex items-center min-h-screen"
>
    <!-- Arrière-plan avec images -->
    <div class="absolute inset-0 z-0">
        <Image
            src={backgroundImage}
            alt="Background"
            class="w-full h-full object-cover opacity-75"
            fetchpriority="high"
        />
        <div class="absolute inset-0">
            <Image
                src={makiContact}
                alt="Maki background"
                class="w-full h-full object-cover opacity-30 blur-sm"
                fetchpriority="high"
            />
        </div>
        <div class="absolute inset-0 bg-primary/50"></div>
    </div>

    <!-- Contenu principal -->
    <div class="relative z-10 w-full max-w-6xl mx-auto">
        <div
            class="bg-white/70 backdrop-blur-sm rounded-3xl p-8 lg:p-12 shadow-2xl"
        >
            <div class="grid lg:grid-cols-2 gap-12 items-center">
                <!-- Formulaire -->
                <div class="space-y-8">
                    <div class="space-y-4">
                        <p class="text-gray-600 text-sm font-medium">
                            {t('homePage.contactUsSection.subtitle')}
                        </p>
                        <h2 class="text-primary text-4xl lg:text-5xl font-bold">
                            {t('homePage.contactUsSection.title')}
                        </h2>
                    </div>

                    <!-- Contact Us form -->
                    <ContactUsForm lang={lang} client:only />
                </div>

                <!-- Image du maki -->
                <div class="flex justify-center lg:justify-end">
                    <div class="relative">
                        <Image
                            src={makiContact}
                            alt="Ring-tailed lemur in Madagascar forest"
                            class="w-sm h-auto object-contain"
                            fetchpriority="high"
                        />

                        <!-- Points décoratifs à droite -->
                        <div
                            class="absolute -right-6 top-1/2 transform -translate-y-1/2 flex flex-col gap-3"
                        >
                            <div
                                class="w-3 h-3 bg-pink-secondary rounded-full opacity-80 animate-pulse"
                            >
                            </div>
                            <div
                                class="w-2 h-2 bg-primary rounded-full opacity-60 animate-pulse"
                                style="animation-delay: 100ms;"
                            >
                            </div>
                            <div
                                class="w-2 h-2 bg-pink-secondary rounded-full opacity-40 animate-pulse"
                                style="animation-delay: 200ms;"
                            >
                            </div>
                        </div>

                        <!-- Points décoratifs à gauche -->
                        <div
                            class="absolute -left-6 bottom-1/4 flex flex-col gap-2"
                        >
                            <div
                                class="w-2 h-2 bg-primary rounded-full opacity-60 animate-pulse"
                                style="animation-delay: 300ms;"
                            >
                            </div>
                            <div
                                class="w-3 h-3 bg-pink-secondary rounded-full opacity-80 animate-pulse"
                                style="animation-delay: 400ms;"
                            >
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Éléments décoratifs d'arrière-plan -->
    <div
        class="absolute top-20 left-10 w-20 h-20 bg-white/10 rounded-full blur-xl"
    >
    </div>
    <div
        class="absolute bottom-20 right-10 w-32 h-32 bg-pink-secondary/10 rounded-full blur-2xl"
    >
    </div>
    <div
        class="absolute top-1/2 right-20 w-16 h-16 bg-primary/10 rounded-full blur-lg"
    >
    </div>
</section>
